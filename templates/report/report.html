{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Report {{ period }}</title>
    <style>
        @page {
            size: A4;
            margin: 1cm;
        }

        @font-face {
            font-family: Arial, sans-serif;
            src: url('{% static 'main/ArialMT.ttf' %}')
        }

        * {
            font-family: Arial, sans-serif;
        }


        td {
            margin-top: 3px;
            text-align: center;
            padding: 5px;
            color: #000a43;
            width: max-content;
            font-size: large;
        }

        th {
            margin-top: 3px;
            padding: 5px;
            font-size: large;
        }
    </style>
</head>
<body>

<h2>{{ user }}, your report from {{ period }}</h2>

<h1>Transactions</h1>
{% if transactions %}
    <table class="transactions" border="1" style="border-color: black;">
        <thead>
        <tr>
            <th>Date</th>
            <th>From</th>
            <th>To</th>
            <th>Amount</th>
            <th>Currency</th>
        </tr>
        </thead>
        <tbody>
        {% for trans in transactions %}
            <tr>
                <td>{{ trans.data_from }}</td>
                <td>{{ trans.transaction_from.name }}</td>
                <td>{{ trans.transaction_to.name }}</td>
                <td>{{ trans.amount }}</td>
                <td>{{ trans.transaction_from.currency }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <br><br>
{% else %}
    <h2>You have no transactions during this period</h2>
    <br><br>
{% endif %}

{% if incomes %}
    <h1>Incomes</h1>
    <table class="incomes" border="1">
        <thead>
        <tr>
            <th>Name</th>
            <th>Monthly plan</th>
            <th>Currency</th>
        </tr>
        </thead>
        <tbody>
        {% for inc in incomes %}
            <tr>
                <td>{{ inc.name }}</td>
                <td>{{ inc.monthly_plan }}</td>
                <td>{{ inc.currency }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <br><br>
{% endif %}

{% if accounts %}
    <h1>Accounts</h1>
    <table class="accounts" border="1">
        <thead>
        <tr>
            <th>Name</th>
            <th>Account</th>
            <th>Currency</th>
        </tr>
        </thead>
        <tbody>
        {% for acc in accounts %}
            <tr>
                <td>{{ acc.name }}</td>
                <td>{{ acc.amount }}</td>
                <td>{{ acc.currency }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <br><br>
{% endif %}

{% if costs %}
    <h1>Costs</h1>
    <table class="costs" border="1">
        <thead>
        <tr>
            <th>Name</th>
            <th>Monthly plan</th>
            <th>Currency</th>
        </tr>
        </thead>
        <tbody>
        {% for cost in costs %}
            <tr>
                <td>{{ cost.name }}</td>
                <td>{{ cost.monthly_plan }}</td>
                <td>{{ cost.currency }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <br><br>
{% endif %}
</body>
</html>

